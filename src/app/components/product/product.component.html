<div class="container mt-3">
  <h2>Product Management</h2>

  <!-- Add Product Form -->
  <div class="input-group mb-3">
    <input
      type="text"
      class="form-control"
      [(ngModel)]="newProduct.name"
      placeholder="Enter product name"
    />
    <select class="form-select" [(ngModel)]="newProduct.category_id">
      <option *ngFor="let category of categories" [value]="category.id">
        {{ category.name }}
      </option>
    </select>
    <button class="btn btn-primary" (click)="addProduct()">Add</button>
  </div>

  <!-- Update Product Form (if a product is being edited) -->
  <div *ngIf="updateProduct" class="input-group mb-3">
    <input
      type="text"
      class="form-control"
      [(ngModel)]="updateProduct.product_name"
      placeholder="Update product name"
    />
    <select class="form-select" [(ngModel)]="updateProduct.category_id">
      <option *ngFor="let category of categories" [value]="category.id">
        {{ category.name }}
      </option>
    </select>
    <button class="btn btn-warning" (click)="updateProductDetails()">Update</button>
  </div>

  <!-- Product List -->
  <ul class="list-group">
    <li
      *ngFor="let product of products"
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      {{ product.product_name }} ({{ product.category_name }})
      <div class="d-flex">
        <button
          class="btn btn-warning btn-sm mr-2"
          (click)="editProduct(product)"
        >
          Edit
        </button>
        <button
          class="btn btn-danger btn-sm"
          (click)="deleteProduct(product.product_id)"
        >
          Delete
        </button>
      </div>
    </li>
  </ul>

  <!-- Pagination -->
  <div class="mt-3">
    <button class="btn btn-secondary" (click)="prevPage()">Previous</button>
    <button class="btn btn-secondary" (click)="nextPage()">Next</button>
  </div>
</div>
